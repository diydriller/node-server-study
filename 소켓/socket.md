# 소켓
## 1. 정의
* 소켓은 두 호스트를 연결해주는 도구로 서버와 클라이언트는 소켓을 통하여 데이터를 
주고 받을 수 있다. 
* 소켓통신은 연결을 유지하는 양방향 통신이고 연결지향적인 TCP 소켓과
비연결지향적인 UDP 소켓이 있다.
### 서버 API
1) socket 함수로 소켓을 생성한다.
2) bind 함수로 ip와 port를 설정한다.
3) listen 함수로 클라이언트 연결 요청에 대한 수신대기열을 만든다.
4) accept 함수로 클라이언트 연결 요청을 기다린다.
5) send와 recv함수로 데이터를 주고 받는다.
### 클라리언트 API
1) socket 함수로 소켓을 생성한다.
2) connect 함수로 서버 ip와 port를 이용해 서버에 연결을 요청한다.
3) send와 recv함수로 데이터를 주고 받는다.

## 2. 블로킹 소켓
* 소켓의 버퍼는 수신버퍼와 송신버퍼가 있고 선입선출 형태로 되어있다.
* send 함수 호출시 데이터를 송신버퍼로 push하면 운영체제에 의해 송신버퍼의 데이터가 pop되면서
송출이 된다. 이때 송신버퍼가 가득차있거나 상대방의 수신버퍼가 가득차있으면 공간이 생길때까지
블로킹된다.
* recv 함수 호출시 수신버퍼로부터 pop되면서 데이터를 가져온다. 이때 수신버퍼가 비어있으면
데이터가 생길때까지 블로킹된다.
* 서버가 여러 클라이언트와 연결을 하려면 클라이언트마다 스레드를 생성해야한다.
클라이언트가 많아질 경우 스레드간 context switching이 빈번하게 발생한다.

## 3. 논블로킹 소켓
* send 함수시 송신버퍼가 가득차 있거나 recv 함수시 수신버퍼가 비어있을 경우 블로킹 되지 않고
-1을 반환한다.
* 완료시간과 완료확인시간의 차이로 인한 처리시간 지연이 발생하고 
완료확인을 반복적으로 수행하기때문에 CPU 낭비가 발생한다.